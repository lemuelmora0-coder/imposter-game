<!DOCTYPE html>
<html>
<head>
    <title>Impostee Custom Game</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #f0f2f5; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: inline-block; width: 80%; max-width: 400px; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px; }
        input { padding: 8px; margin: 5px; width: 80%; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div id="setup-screen" class="card">
        <h2>Impostee Game</h2>
        <p>Enter words for your deck (comma separated):</p>
        <input type="text" id="custom-words" value="Apple, Banana, Orange, Mango, Grape">
        <br>
        <p>Number of Players:</p>
        <input type="number" id="player-count" value="3" min="3">
        <br>
        <button onclick="startGame()">Start Game</button>
    </div>

    <div id="game-screen" class="card hidden">
        <h3 id="player-turn-text">Player 1's Turn</h3>
        <div id="word-display" style="font-size: 24px; font-weight: bold; margin: 20px 0; color: #d9534f;">****</div>
        <button id="action-btn" onclick="toggleWord()">Show Word</button>
    </div>

    <script>
        let players = [];
        let currentPlayerIndex = 0;
        let showingWord = false;

        function startGame() {
            const wordInput = document.getElementById('custom-words').value;
            const wordDeck = wordInput.split(',').map(w => w.trim());
            const playerCount = parseInt(document.getElementById('player-count').value);
            
            // Pick a random word from the deck
            const secretWord = wordDeck[Math.floor(Math.random() * wordDeck.length)];
            const impostorIndex = Math.floor(Math.random() * playerCount);

            // Assign words to players
            players = [];
            for (let i = 0; i < playerCount; i++) {
                players.push(i === impostorIndex ? "YOU ARE THE IMPOSTOR" : secretWord);
            }

            document.getElementById('setup-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            updateTurn();
        }

        function updateTurn() {
            if (currentPlayerIndex < players.length) {
                document.getElementById('player-turn-text').innerText = `Player ${currentPlayerIndex + 1}'s Turn`;
                document.getElementById('word-display').innerText = "****";
                document.getElementById('action-btn').innerText = "Show Word";
                showingWord = false;
            } else {
                document.getElementById('player-turn-text').innerText = "Game Started!";
                document.getElementById('word-display').innerText = "Discuss and find the impostor!";
                document.getElementById('action-btn').classList.add('hidden');
            }
        }

        function toggleWord() {
            const display = document.getElementById('word-display');
            const btn = document.getElementById('action-btn');

            if (!showingWord) {
                display.innerText = players[currentPlayerIndex];
                btn.innerText = "Hide & Next Player";
                showingWord = true;
            } else {
                currentPlayerIndex++;
                updateTurn();
            }
        }
    </script>
</body>
</html>